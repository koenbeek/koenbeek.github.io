<!DOCTYPE html>
<html lang=”en”>

<head>
    <title>XPath CheatSheet</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/table.css">
</head>

<body>
    <h2>XPath CheatSheet</h2>
    <table>
        <thead>
            <tr>
                <th style="text-align:left">Expression</th>
                <th style="text-align:left">Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="text-align:left"><code>nodename</code></td>
                <td style="text-align:left">Select all nodes with the name &quot;nodename&quot;</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>/</code></td>
                <td style="text-align:left">A beginning single slash indicates a select from the root node, subsequent slashes indicate selecting a child node
                    from
                    current node</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>//</code></td>
                <td style="text-align:left">Select direct and indirect child nodes in the document from the current node - this gives you the ability to
                    &quot;skip
                    levels&quot;</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>.</code></td>
                <td style="text-align:left">Select the current context node</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>..</code></td>
                <td style="text-align:left">Select the parent of the context node</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>@</code></td>
                <td style="text-align:left">Select attributes</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>text()</code></td>
                <td style="text-align:left">Select the value of an element</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>\|</code></td>
                <td>Pipe chains expressions and brings back results from either expression, think of a set union</td>
            </tr>
        </tbody>
    </table>
    <br>
    <table>
        <thead>
            <tr>
                <th style="text-align:left">Operator</th>
                <th style="text-align:left">Explanation</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="text-align:left"><code>=</code></td>
                <td style="text-align:left">Equivalent comparison, can be used for numeric or text values</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>!=</code></td>
                <td style="text-align:left">Is not equivalent comparison</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>&gt;, &gt;=</code></td>
                <td style="text-align:left">Greater than, greater than or equal to</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>&lt;, &lt;=</code></td>
                <td style="text-align:left">Less than, less than or equal to</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>or</code></td>
                <td style="text-align:left">Boolean or</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>and</code></td>
                <td style="text-align:left">Boolean and</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>not</code></td>
                <td style="text-align:left">Boolean not</td>
            </tr>
        </tbody>
    </table>
    <p>Note: Using &#39;!=&#39; is not the same as using &#39;not&#39;.</p>
    <h3 id="predicates">Predicates</h3>
    <table>
        <thead>
            <tr>
                <th style="text-align:left">Operator</th>
                <th style="text-align:left">Explanation</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="text-align:left"><code>[1]</code></td>
                <td style="text-align:left">Select the first node</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>[last()]</code></td>
                <td style="text-align:left">Select the last node</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>[last()-1]</code></td>
                <td style="text-align:left">Select the last but one node (also known as the second last node)</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>[position()&lt;3]</code></td>
                <td style="text-align:left">Select the first two nodes, note the first position starts at 1, not =</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>[@lang]</code></td>
                <td style="text-align:left">Select nodes that have attribute &#39;lang&#39;</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>[@lang=&#39;en&#39;]</code></td>
                <td style="text-align:left">Select all the nodes that have a &quot;attribute&quot; attribute with a value of &quot;en&quot;</td>
            </tr>
            <tr>
                <td style="text-align:left"><code>[price&gt;15.00]</code></td>
                <td style="text-align:left">Select all nodes that have a price node with a value greater than 15.00</td>
            </tr>
        </tbody>
    </table>
    <h3 id="wildcards">Wildcards</h3>
    <p> XPath wildcards can be used to select unknown XML nodes.</p>
    <table>
        <thead>
            <tr>
                <th>Wildcard</th>
                <th style="text-align:left">Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>*</code></td>
                <td style="text-align:left">Matches any element node</td>
            </tr>
            <tr>
                <td><code>@*</code></td>
                <td style="text-align:left">Matches any attribute node</td>
            </tr>
            <tr>
                <td><code>node()</code></td>
                <td style="text-align:left">Matches any node of any kind</td>
            </tr>
        </tbody>
    </table>
    <h2 id="in-text-search">In-text search</h2>
    <p>XPath can do in-text searching using functions and also supports regex with its matches() function. Note: in-text searching is case-sensitive!</p>
    <table>
        <thead>
            <tr>
                <th>Path Expression</th>
                <th style="text-align:left">Result</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>//author[contains(.,&quot;Matt&quot;)]</code></td>
                <td style="text-align:left">Matches on all author nodes, in current node contains Matt (case-sensitive)</td>
            </tr>
            <tr>
                <td><code>//author[starts-with(.,&quot;G&quot;)]</code></td>
                <td style="text-align:left">Matches on all author nodes, in current node starts with G (case-sensitive)</td>
            </tr>
            <tr>
                <td><code>//author[ends-with(.,&quot;w&quot;)]</code></td>
                <td style="text-align:left">Matches on all author nodes, in current node ends with w (case-sensitive)</td>
            </tr>
            <tr>
                <td><code>//author[matches(.,&quot;Matt.*&quot;)]</code></td>
                <td style="text-align:left">regular expressions match 2.0</td>
            </tr>
        </tbody>
    </table>
    <h2 id="complete-syntax-xpath-axes">Complete syntax: XPath Axes</h2>
    <p>XPath Axes fuller syntax of how to use XPath. Provides all of the different ways to specify the path by describing more fully the relationships between
        nodes
        and their connections. The XPath specification describes 13 different axes:</p>
    <ul>
        <li>self ‐‐ the context node itself</li>
        <li>child ‐‐ the children of the context node</li>
        <li>descendant ‐‐ all descendants (children+)</li>
        <li>parent ‐‐ the parent (empty if at the root)</li>
        <li>ancestor ‐‐ all ancestors from the parent to the root</li>
        <li>descendant‐or‐self ‐‐ the union of descendant and self • ancestor‐or‐self ‐‐ the union of ancestor and self</li>
        <li>following‐sibling ‐‐ siblings to the right</li>
        <li>preceding‐sibling ‐‐ siblings to the left</li>
        <li>following ‐‐ all following nodes in the document, excluding descendants</li>
        <li>preceding ‐‐ all preceding nodes in the document, excluding ancestors • attribute ‐‐ the attributes of the context node</li>
    </ul>
    <p><img src="img/xpath-expr.jpg" alt="XPath Expressions"> </p>
    <h3 id="xpath-in-chrome">XPath in Chrome</h3>
    <p>View &gt; Developer &gt; Javascript Console. In the Console type in:
        $x(&quot;/xpath/expression/goes/here&quot;)</p>

    <h3>Examples</h3>
    <table>
        <thead>
            <tr>
                <th>Path Expression</th>
                <th style="text-align:left">Expression Result</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>/html</code></td>
                <td style="text-align:left">Select the root element catalog. Note: If the path starts with a slash ( / ) it always represents an absolute path
                    to an
                    element! Your absolute path is the same as your context in this case.</td>
            </tr>
            <tr>
                <td><code>//article</code></td>
                <td style="text-align:left">Select all nodes with the name &quot;article&quot;</td>
            </tr>
            <tr>
                <td><code>//article/..</code></td>
                <td style="text-align:left">Selects all of the parents of the nodes with the name &quot;article&quot;</td>
            </tr>
            <tr>
                <td><code>/html/body/div/section/article/figure/img/@alt</code></td>
                <td style="text-align:left">Select all img node alt attributes</td>
            </tr>
            <tr>
                <td><code>/section/*</code></td>
                <td style="text-align:left">Select all the child element nodes of the section element</td>
            </tr>
            <tr>
                <td><code>//*</code></td>
                <td style="text-align:left">Select all elements in the document</td>
            </tr>
            <tr>
                <td><code>//title[@*]</code></td>
                <td style="text-align:left">Select all title elements which have at least one attribute of any kind</td>
            </tr>
            <tr>
                <td><code>//@*</code></td>
                <td style="text-align:left">Select all attributes</td>
            </tr>
            <tr>
                <td><code>//@alt/..</code></td>
                <td style="text-align:left">For all nodes that have the alt attribute, select the immediate parent</td>
            </tr>
            <tr>
                <td><code>/html/body/div/aside/section[1]</code></td>
                <td style="text-align:left">Select the first section element in /html/body/div/aside</td>
            </tr>
            <tr>
                <td><code>//*[@href]</code></td>
                <td style="text-align:left">Select all elements with an href attribute</td>
            </tr>
            <tr>
                <td><code>/html/body/div/aside/section[@class=&quot;popular-recipes&quot;]</code></td>
                <td style="text-align:left">Select section element with the attribute &quot;popular-recipes&quot; in /html/body/div/aside</td>
            </tr>
            <tr>
                <td><code>//a[@class!=&quot;current&quot;]</code></td>
                <td style="text-align:left">bring back all a elements where they have a class attribute but it isn&#39;t current</td>
            </tr>
            <tr>
                <td><code>//a[not(@class=&quot;current&quot;)]</code></td>
                <td style="text-align:left">bring back all a elements except the ones that have a class attribute equal to current (Note: they do not need to
                    have a
                    class attribute)</td>
            </tr>
            <tr>
                <td><code>/descendant::h3</code></td>
                <td style="text-align:left">Select all h3 element nodes</td>
            </tr>
            <tr>
                <td><code>//attribute::alt</code></td>
                <td style="text-align:left">Select all alt attribute nodes</td>
            </tr>
            <tr>
                <td><code>//body/div/section/following-sibling::*</code></td>
                <td style="text-align:left">Select all elements to the right (subsequent to) //body/div/section</td>
            </tr>
        </tbody>
    </table>

</html>